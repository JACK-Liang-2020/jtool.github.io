(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20d3bd19"],{"05a8":function(t,e,n){"use strict";n("f616")},1:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"481a":function(t,e,n){},5:function(t,e){},6:function(t,e){},"6a8f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pdf-demo"},[n("div",{staticClass:"in-nav"},[n("div",{class:t.pdfConfig.pageScroll?"in-item":"in-item-active",on:{click:t.navClick}},[t._v(" 翻页阅读 ")]),n("div",{class:t.pdfConfig.pageScroll?"in-item-active":"in-item",on:{click:t.navClick}},[t._v(" 滚动阅读 ")])]),n("div",{staticClass:"in-content"},[n("div",{staticClass:"in-pdf-box"},[t.pdfConfig.pageTurn?[n("div",{staticClass:"in-page-turn"},[n("pdfComponent",{ref:"pdfComponent",staticClass:"in-pdf",attrs:{pdfConfig:t.pdfConfig},on:{totalPage:t.getTotalPage}}),n("div",{staticClass:"page-num-box"},[t._l(t.totalPage,(function(e){return[n("div",{key:e,staticClass:"in-btn",on:{click:function(n){return t.pageClick(e)}}},[t._v(" "+t._s(e)+" ")])]}))],2)],1)]:t._e(),t.pdfConfig.pageScroll?[n("div",{staticClass:"in-page-scroll"},[n("pdfComponent",{ref:"pdfComponent",staticClass:"in-pdf",attrs:{pdfConfig:t.pdfConfig},on:{totalPage:t.getTotalPage,scroll:t.scrollFun}})],1)]:t._e()],2)])])},i=[],l=n("5530"),r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h2",[t._v("pdf 阅读组件")]),n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":""}},[t._v('   ！前提模块安装： pdfjs-dist\n   pdfjs-dist 文档：https://github.com/mozilla/pdfjs-dist\n\n   使用方式：\n   <pdfComponent\n              ref="pdfComponent"\n              class="in-pdf"\n              :pdfConfig="pdfConfig"\n              @totalPage="getTotalPage"\n            />\n')])]),n("h2",[t._v("使用")]),n("h4",[t._v("pdfConfig")]),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),n("th",{staticStyle:{"text-align":"left"}},[t._v("默认")]),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("src")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("String")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("''")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("pdf 的路径")])]),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("pageTurn")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("true")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("pdf 用翻页阅读模式")])]),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("pageScroll")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("Boolean")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("false")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("pdf 用滚动阅读模式")])]),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("currnetPage")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("Number")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("当翻页阅读模式,可以改变数值，用于切换页数")])])])]),n("h4",[t._v("事件")]),n("table",[n("thead",[n("tr",[n("th",{staticStyle:{"text-align":"left"}},[t._v("名称")]),n("th",{staticStyle:{"text-align":"left"}},[t._v("类型")]),n("th",{staticStyle:{"text-align":"left"}},[t._v("默认")]),n("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),n("tbody",[n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("scroll")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("Fun")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("''")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("在滚动阅读模式可以获取当前是第几页")])]),n("tr",[n("td",{staticStyle:{"text-align":"left"}},[t._v("totalPage")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("Fun")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("''")]),n("td",{staticStyle:{"text-align":"left"}},[t._v("获取总页数")])])])])])}],o=n("2877"),f={},s=Object(o["a"])(f,r,c,!1,null,null,null),d=s.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pdf-container",on:{scroll:t.handlerScroll}})},u=[],p=n("b85c"),v=n("0507"),h=n.n(v),C=n("9511");C.GlobalWorkerOptions.workerSrc=h.a;var m={name:"pdf-container",props:{pdfConfig:{type:Object,default:function(){return{src:"./extre/suffer.pdf",pageTurn:!1,pageScroll:!1,currnetPage:1}}}},data:function(){return{pageNum:1,currentPdfObj:null,pdfContainder:"#pdfCanvas",idTemplate:"cw-pdf-"}},watch:{pdfConfig:{handler:function(t,e){var n=document.querySelector(".pdf-container canvas");t.pageTurn!==e.pageTurn?this.init():n?this.renderPDF(this.currentPdfObj,t.currnetPage,this.pdfContainder):this.init()},deep:!0}},mounted:function(){this.init()},methods:{init:function(){this.deleteCanvas(),this.loadPDF(this.pdfConfig.src)},loadPDF:function(t){var e=this,n=t,a=C.getDocument({url:n,rangeChunkSize:1048576});a.onProgress=function(t){var n=t.loaded/t.total;e.$emit("progress",n)},a.promise.then((function(t){e.currentPdfObj=t,e.setTotalPage(t),e.pdfConfig.pageTurn&&(e.createPdfContainer(),e.renderPDF(e.currentPdfObj,e.pdfConfig.currnetPage,e.pdfContainder)),e.pdfConfig.pageScroll&&e.renderAllPage()}))},createPdfContainer:function(t,e){if(this.pdfConfig.pageScroll){var n=document.createElement("canvas");return n.id=t,n.className=e,n}if(this.pdfConfig.pageTurn){var a=document.querySelector(".pdf-container");if(a){var i=document.createElement("canvas");i.id="pdfCanvas",a.appendChild(i)}}},createSeriesCanvas:function(t,e){for(var n="",a=document.createDocumentFragment(),i=1;i<=t;i++)n=e+i,a.appendChild(this.createPdfContainer(n,"pdfClass-".concat(n)));var l=document.querySelector(".pdf-container");l.appendChild(a)},deleteCanvas:function(){var t=document.querySelector(".pdf-container");if(t){var e,n=t.querySelectorAll("canvas"),a=Object(p["a"])(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;i&&i.remove()}}catch(l){a.e(l)}finally{a.f()}}this.currentPdfObj=null},renderPDF:function(t,e,n){var a=this;t.getPage(e).then((function(t){var e=1.5,i=t.getViewport({scale:e}),l=a.pdfConfig.pageTurn?document.querySelector(n):document.getElementById(n);if(l){var r=l.getContext("2d");l.width=i.width||698,l.height=i.height||392;var c={canvasContext:r,viewport:i};t.render(c)}}))},handlerScroll:function(){this.$emit("scroll",this.getCurrnetPage())},getCanvasHeight:function(){var t=null,e=document.querySelector(".pdf-container");if(e){var n=e.querySelector("canvas");n&&(t=n.clientHeight)}return t||1576},getCurrnetPage:function(){var t=document.querySelector(".pdf-container"),e=t.scrollTop,n=t.clientHeight,a=this.getCanvasHeight(),i=1;return i=Math.ceil((e+n)/a),i>this.pageNum&&(i=this.pageNum),i},setTotalPage:function(t){var e=t.numPages;this.pageNum=e,this.$emit("totalPage",e)},renderAllPage:function(){var t=this.idTemplate;this.createSeriesCanvas(this.pageNum,t);for(var e=1;e<=this.pageNum;e++){var n=t+e;this.renderPDF(this.currentPdfObj,e,n)}}}},S=m,_=(n("f675"),Object(o["a"])(S,g,u,!1,null,"15977842",null)),y=_.exports,P={name:"pdf-demo",components:{pdfComponent:y},data:function(){return{README:d,pdfConfig:{src:"./extre/suffer.pdf",currnetPage:1,pageTurn:!0,pageScroll:!1},totalPage:0}},methods:{navClick:function(){this.pdfConfig=Object(l["a"])(Object(l["a"])({},this.pdfConfig),{},{pageTurn:!this.pdfConfig.pageTurn,pageScroll:!!this.pdfConfig.pageTurn})},getTotalPage:function(t){this.totalPage=t},pageClick:function(t){this.pdfConfig.currnetPage=t},scrollFun:function(t){}}},x=P,b=(n("05a8"),Object(o["a"])(x,a,i,!1,null,"cfa00be4",null));e["default"]=b.exports},f616:function(t,e,n){},f675:function(t,e,n){"use strict";n("481a")}}]);